#version 140
precision highp float;
in vec3 pos;
in vec2 textureCoords;
in vec3 normals;

uniform mat4 projMatrix;
uniform mat4 viewMatrix;
uniform mat4 transformationMatrix;

out vec3 toCamera;
out vec3 worldPos;
flat out vec3 normal;
out vec2 uvs;

void main(){
    uvs = textureCoords;
    normal=(transformationMatrix*vec4(normals,0.0)).xyz;
    vec4 aPos = transformationMatrix*vec4(pos,1);
	gl_Position =projMatrix*viewMatrix*aPos;
	worldPos = aPos.xyz;

	toCamera = (inverse(viewMatrix) * vec4(0.0,0.0,0.0,1.0)).xyz - worldPos;

}