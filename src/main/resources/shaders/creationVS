#version 140
precision highp float;
in vec3 pos;
in vec3 normals;

uniform mat4 projMatrix;
uniform mat4 viewMatrix;
uniform mat4 transformationMatrix;

uniform float time;

out vec3 worldPos;
flat out vec3 normal;
out vec2 uvs;

void main(){
    normal=(transformationMatrix*vec4(normals,0.0)).xyz;
    vec4 aPos = transformationMatrix*vec4(pos,1);
	gl_Position =projMatrix*viewMatrix*aPos;
	worldPos = aPos.xyz;

    vec2 front = aPos.xy;
    vec2 side = aPos.zy;
    vec2 top = aPos.xz;

    uvs = front + side + top + vec2(time*100);
    uvs = uvs / 500;
}